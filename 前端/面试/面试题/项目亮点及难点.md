# 项目亮点

1. 微信扫码登录
2. 微信支付
3. 文章热度排行榜
4. 大文件上传、断点、秒传
5. 虚拟列表
6. 懒加载、下拉刷新
7. RBAC权限控制模型
8. SEO优化
9. 首屏优化方案
10. 工具类封装及高复用
11. 响应式设计
12. 数据可视化
13. 国际化和本地化
14. 性能优化
15. 前端安全防护
16. 前端UI界面美观
17. 文心一言API
18. 百度统计API
19. 地图API



# 项目难点

## 大文件上传

**问： 什么是大文件上传？**

大文件上传简单来说就是将一个大文件拆分成多个小块，然后逐个上传这些小块到服务器，最后在服务器端将这些小块重新组合成完整的大文件。这样一来可以有效避免大文件由于网络不稳定原因导致上传失败，然后重新上传整个文件，并且提高了上传的可靠性和效率



**问： 如何实现大文件上传？**

1. 首先定义一个 `input` 将 `type` 设置为 `file` 文件上传格式
2. 通过上传文件拿到对应的 `file`
3. 定义一个变量，用于设置每次读取的大小
4. 通过数组的 `slice` 搭配循环将这个大文件拆分成多个小块
5. 将这个大文件通过 `sparkMD5` 处理为 `hash` 值，这样的话当 `A` 和 `B` 两个文件内容相同时，他们的 `hash` 值自然也是一样的。假如先上传了 `A` 文件，然后再上传 `B` 文件时，服务器就会发现这个 `hash` 值之前已经有上传记录了，所以就不需要重新处理这次上传请求，这样给用户的感觉就像是实现了秒传
6. 将这个文件 `hash` 值保存起来
7. 将刚刚分片的数据处理为 `formData` 格式并将 `hash` 值附带过去
8. 接下来我们需要做一个并发请求，不然一个 `1G` 大小的文件分成 `1024` 个小块，那么浏览器就会同时发送 `1024` 次网络请求，这样显然肯定是不行的，所以我们可以做一个并发，限制最大并发同一时刻只能发送 `6` 次请求，等其中一个请求发送完毕后再发起新的请求，依此类推，直至所有请求发送完毕
9. 最后调用网络请求接口将刚刚处理的分片数据逐个上传到后端



## 拖拽上传

实现拖拽上传有 `2` 个常用的事件，分别是进入拖拽区和离开拖拽区。我们需要先定义一个 `class` 高亮样式，用于设置拖拽区的高亮效果，所以在进入到拖拽区时给它加上 `class` 类名，在离开时候再去除这个 `class` 类名，从而实现高亮效果，最后将文件拖拽到指定的区域即可实现拖拽上传。

但这样会导致一个问题，因为我们需求中的拖拽区域有 `DOM` 元素，这样的话会导致拖拽过程中闪屏，闪屏的原理就是移动到了 `html` 元素上，此时相当于离开了拖拽区，所以高亮样式就会去除，然后鼠标再移动到拖拽区的空白处，这样又添加了高亮样式。不断的移入移出就会导致闪屏的问题。最后我查阅了网上很多相关资料，因为这个需求不怎么大众化，所以在网上并没有找到解决办法。

最后尝试了各种办法，折腾了好久才解决，解决的方法其实很简单，无非就是当鼠标进入的时候给拖拽区添加一个伪元素 `after`，让他的透明度为 `0` ，定位设置 `999`，显示在最顶上，这样就不会移动到 `HTML` 元素上了，从而解决这个问题



## 主题色切换

最开始我采用修改 `scss` 变量的方式来实现主题色切换，刚开始倒觉得没什么问题，后来页面越来越多就会导致这种方法非常繁琐，因为每个需要更改主题色的布局几乎都要新增一个 `scss` 变量。

最后我打算重构这个功能，直接写两个主题色类，在里面分别写各自的样式，最后通过 `js` 切换 `html` 类名来实现主题色切换



## 背景色切换

背景切换这个功能本身是很简单的，但是要考虑一个问题，`Vue` 跟 `React` 都是单页面应用，所以就会导致在当前页面修改了背景色，那么所有页面的背景色都会发生改变，这种效果肯定是不理想的

最后我就在 `Layout` 布局页面中通过 `onBeforeRouteUpdate` 来监听路由变化，因为背景不是固定的，比如有些页面背景是红色、有些是蓝色、也有些是白色，所以这里我就直接用 `if` 来判断，根据指定路由显示指定的颜色



## 背景跟随图片颜色

我的项目中文章列表有这样一个需求，左侧是文章封面图片，右侧是文章信息。而他的背景色需要虚化并且要跟图片颜色一致，这一点当时就毫无思路，我在想如何让背景跟图片一个颜色。后来我浏览了大量网站都没有类似的效果，百度也搜不到类似的功能实现。

然后这个功能我就先放一边了，直到有一天在我刷抖音时无意中听到了 **模糊** 这个词，顿时有了思路，我可以将图片作为背景然后通过 `css` 的模糊属性将背景模糊，从而背景色和文章封面颜色就一致了



## 导航栏高度过渡

在导航栏当中如果有子导航，我们鼠标经过时要展开，离开时要收起。这个功能核心逻辑并不难，主要难在展开与收起期间的过渡效果

正常情况下我们需要给每个子导航的高度设置为 `0`，当鼠标经过时候通过 `css` 的 `hover` 给他设置一个高度和过渡效果。但这个高度我们并不确定，因为每个子导航的数量不一致，可能有一个，也可能有多个，所以没办法推断出这个子导航的具体高度，如果你不设置高度或者设置为 `auto` 他又不生效，写死又不行，这就很为难。

如果用 `js` 来动态获取子导航的高度确实可以实现，但我当时一直在纠结纯 `CSS` 实现，尝试了很多方法都不行。

最后我把 `height` 改为 `max-height`，当经过时给 `hover` 中 `max-height` 设置一个足够大的值，这样就能实现这个功能



# 项目亮点

## Thrive

### 全栈开发

这个项目是我利用业余时间完成的，从UI、前端、控制端、后端、数据库以及部署上线都是我一个人完成的，在完成的基础上我还做了性能优化、组件化、以及统一代码规范等工作



**追问：** 那你说一说你的项目中性能优化是如何做的

首先可以通过 `lighthouse`、火焰图来分析页面的首屏加载速度、加载资源情况，发现页面在性能上有很多优化点。然后是对图片资源进行了懒加载，减少了首屏资源的加载。

还有就是对一些静态资源，比如图片、字体以及不太紧要的 `js` 插件做了 `CDN` 资源加载



**追问：** 那你组件化又是如何做的

在后台有很多表单表格页，功能基本上都大同小异，我通过对他们进行封装，传入配置项数据即可快速生成一个表单页面，提升了开发效率



**追问：** 不同页面肯定会存在一定的差异，那你在设计上是如何磨平他们的

针对一些细节的不同，可以吧 `html` 元素作为参数传递进来，实现定制的效果。如果是样式上的不同，可以通过复写样式的方式来做



**追问：** 那代码规范是如何做的

代码规范可以采用 `Eslint` ，定义一套风格规范就行了，比如字符串使用单引号等等，并且给项目配置了 `lint-stage + husky` 在 `git` 提交代码时候会自动检测并修复不符规则的代码，提高代码的规范



### 文心一言

我这个项目接入了百度的文心一言大模型，实现了文章的改写和续写功能，提高创造灵感

**追问：** 你是如何接入的？具体流程是什么？

首先打开文心一言大模型官网，创建一个应用，然后找到该应用的 `id` 和秘钥 通过指定的 `API` 获取对应的 `token`，然后调用指定的 `API` 模型并携带这个 `token` 即可进行对话



运输



## 好点租房

### 百度地图



## 云上校园

### 即时通讯聊天室

### 微信登录

通过小程序的 `wx.login()` 获取 `code`，将这个 `code` 发送给后端，后端在通过小程序的 `code、AppId、AppSecret` 这三个参数去请求微信官方提供的登录 `API` 来获取 `openId` 和 `session_key` 并保存到数据库，然后后端返回一个 `token`，在前端把这个 `token` 保存到本地，在用户访问页面时会先获取本地有没有 `token`，有则放行，没有则跳转到登录



## 新能源汽车可视化