# 包

## lombok

为您的 `Java` 增添趣味：自动资源管理，自动生成 `getter`，`setter`，`equals`，`hashCode` 和 `toString` 等等！



**代码示例**

```java
import lombok.Data;
import lombok.AllArgsConstructor;
import lombok.NoArgsConstructor;

@Data
@NoArgsConstructor
@AllArgsConstructor
public class User {
    private Integer id;
    private String name;
}
```

```java
public class Test {
    @org.junit.Test
    public void run() {
        User u = new User();
        u.setId(1);
        u.setName("张三");
        
        System.out.println(u);
        // User(id=1, name=张三)
        
        System.out.println(u.getName()); // 张三
    }
}
```

or

```java
public class Test {
    @org.junit.Test
    public void run() {
        User u1 = new User(1, "张三");
        System.out.println(u1);
        // User(id=1, name=张三)
        
        User u2 = new User();
        u2.setId(2);
        u2.setName("李四");
        
        System.out.println(u2);
        // User(id=2, name=李四)
    }
}
```

从上述代码中可以看到 `User` 类中并没有写 `set`、`get` 等方法却可以使用，这就是 `lombok` 插件的好处



**注解含义**

| 注解                | 作用                                 |
| ------------------- | ------------------------------------ |
| @Getter/@Setter     | 为所有的属性提供getter / setter方法  |
| @ToString           | 会给类自动生成易阅读的 toString 方法 |
| @EqualsAndHashCode  | 自动生成 equals 和  hashCode 方法    |
| @Data               | 包含上述所有                         |
| @NoArgsConstructor  | 空参构造方法                         |
| @AllArgsConstructor | 全参构造方法                         |



## fastjson

 `fastjson` 是一个可以将 `JavaBean` 数据转换为 `JSON` 格式数据的包

```xml
	<dependency>
		<groupId>com.alibaba</groupId>
		<artifactId>fastjson</artifactId>
		<version>1.2.9</version>
	</dependency>
```



**举个栗子**

```java
[Student(name=jack, age=20, hobby=[抽烟, 喝酒], teacher=Teacher(id=1, name=张三)), Student(name=rose, age=23, hobby=[抽烟, 喝酒, 烫头], teacher=Teacher(id=2, name=李四))]
```

将上述 `JavaBean` 数据转换为以下 `JSON` 格式数据

```java
[
    {
        "age": 20,
        "hobby": [
            "抽烟",
            "喝酒"
        ],
        "name": "jack",
        "teacher": {
            "id": 1,
            "name": "张三"
        }
    },
    {
        "age": 23,
        "hobby": [
            "抽烟",
            "喝酒",
            "烫头"
        ],
        "name": "rose",
        "teacher": {
            "id": 2,
            "name": "李四"
        }
    }
]
```



第一步定义相关 `JavaBean`

```java
package src.domain;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

import java.util.List;

@Data
@NoArgsConstructor
@AllArgsConstructor
public class Student {
    private String name;
    private int age;
    private List<String> hobby;
    private Teacher teacher;
}
```

```java
package src.domain;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

@Data
@NoArgsConstructor
@AllArgsConstructor
public class Teacher {
    private int id;
    private String name;
}
```



核心代码

```java
		List<Student> list = new ArrayList<>();

        // 数据1
        Teacher t1 = new Teacher(1, "张三");
        Student s1 = new Student("jack", 20, Arrays.asList("抽烟", "喝酒"), t1);
        list.add(s1);

        // 数据2
        Teacher t2 = new Teacher(2, "李四");
        Student s2 = new Student("rose", 23, Arrays.asList("抽烟", "喝酒", "烫头"), t2);
        list.add(s2);

        // 转换为JSON
        String jsonStr = JSONObject.toJSONString(list);

        System.out.println(list);
        // 转换前：[Student(name=jack, age=20, hobby=[抽烟, 喝酒], teacher=Teacher(id=1, name=张三)), Student(name=rose, age=23, hobby=[抽烟, 喝酒, 烫头], teacher=Teacher(id=2, name=李四))]

        System.out.println(jsonStr);
        // 转换后：[{"age":20,"hobby":["抽烟","喝酒"],"name":"jack","teacher":{"id":1,"name":"张三"}},{"age":23,"hobby":["抽烟","喝酒","烫头"],"name":"rose","teacher":{"id":2,"name":"李四"}}]
```



