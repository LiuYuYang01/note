# 字符串

## 字符串拼接

**需求：** 将 `{"a", "b", "c", "d"}` 转换为字符串 `["a", "b", "c", "d"]` 

**方法一、**

```java
public class Main {
    public static void main(String[] args) {
        String[] arr = {"a", "b", "c", "d"};
        String str = "[";

        for (byte i = 0; i < arr.length; i++) {
            // 如果是最后一个就不需要拼接，而是拼接]
            if (i == arr.length-1){
                str += arr[i] + ']';
                break;
            };

            str += arr[i] + ',';
        }

        System.out.println(str);
    }
}
```



**方法二、**

```java
import java.util.Arrays;

public class Main {
    public static void main(String[] args) {
        String[] arr = {"a", "b", "c", "d"};

        // 打印数据
        System.out.println(Arrays.toString(arr));
        // [a, b, c, d]
    }
}
```



## 字符串反转

**需求：** 实现一个字符串反转的方法，给方法传参 `abcdefg` ，返回 `gfedcba`

```java
public class Main {
    public static void main(String[] args) {
        String str = reversal("abcdefg");
        System.out.println(str);
    }

    public static String reversal(String s) {
        String str = "";
        
        // 方法一
        for (int i = s.length() - 1; i >= 0; i--) {
            // 从后往前取值
            str += s.charAt(i);
        }

        // 方法二
        // for (byte i = 0; i < s.length(); i++) {
        //     // 从后往前取值
        //     str += s.charAt(s.length() - 1-i);
        // }

        return str;
    }
}
```



## 统计字符次数

**需求：** 键盘录入一个字符串，统计该字符串中大写字母字符，小写字母字符，数字字符出现的次数(不考虑其他字符)

**方法一、**

```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        System.out.println("请输入一段字符串：");

        String str = sc.next();

        byte Upper = 0; // 大写次数
        byte Lower = 0; // 小写次数
        byte Number = 0; // 数字次数

        for (int i = 0; i < str.length(); i++) {
            // 通过指定的方法进行判断是哪一类值
            if (Character.isUpperCase(str.charAt(i))) {
                // 如果是大写
                Upper += 1;
            } else if (Character.isLowerCase(str.charAt(i))) {
                // 如果是小写
                Lower += 1;
            } else if (Character.isDigit(str.charAt(i))) {
                // 如果是数字
                Number += 1;
            }
        }

        // 统计
        System.out.println("大写字符有:" + Upper + "个");
        System.out.println("小写字符有:" + Lower + "个");
        System.out.println("数字字符有:" + Number + "个");
    }
}
```



**方法二、**

```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        System.out.println("请输入一段字符串：");

        String str = sc.next();

        byte Upper = 0; // 大写次数
        byte Lower = 0; // 小写次数
        byte Number = 0; // 数字次数

        for (int i = 0; i < str.length(); i++) {
            // 用c表示每一个字符
            char c = str.charAt(i);

            // 通过ASLL码值进行判断是哪一类值
            if (c >= 'A' & c <= 'Z') {
                // 如果是大写
                Upper += 1;
            } else if (c >= 'a' & c <= 'z') {
                // 如果是小写
                Lower += 1;
            } else if (c >= 0 & c <= 9)
                // 如果是数字
                Number += 1;
        }

        // 统计
        System.out.println("大写字符有:" + Upper + "个");
        System.out.println("小写字符有:" + Lower + "个");
        System.out.println("数字字符有:" + Number + "个");
    }
}
```



## 罗马值转阿拉伯值

```java
public class Main {
    public static void main(String[] args) {
        System.out.println(romanToInt("M")); // 1000
        System.out.println(romanToInt("MXX")); // 1020
        System.out.println(romanToInt("MXXIIII")); // 1024
    }

    public static int romanToInt(String s) {
        int sum = 0;

        int first = getValue(s.charAt(0));

        for (int i = 1; i < s.length(); i++) {
            int num = getValue(s.charAt(i));

            if (first < num) {
                sum -= first;
            } else {
                sum += first;
            }

            first = num;
        }

        sum += first;

        return sum;
    }

    public static int getValue(char c) {
        int n = switch (c) {
            case 'I' -> 1;
            case 'V' -> 5;
            case 'X' -> 10;
            case 'L' -> 50;
            case 'C' -> 100;
            case 'D' -> 500;
            case 'M' -> 1000;
            default -> 0;
        };

        return n;
    }
}
```



# 数组

## 随机打乱数组顺序

```java
import java.util.Arrays;
import java.util.Random;

public class Main {
    public static void main(String[] args) {
        int x = 0, y = 0;

        Random r = new Random();

        int[] arr = {1, 6, 3, 9, 10, 43, 7};
        int temp = 0;

        for (int i = 0; i < arr.length * 5; i++) {
            x = r.nextInt(arr.length);
            y = r.nextInt(arr.length);

            temp = arr[x];
            arr[x] = arr[y];
            arr[y] = temp;
        }

        System.out.println(Arrays.toString(arr));
    }
}
```



## 随机生成指定位数的随机数

**方法一、**

```java
import java.util.Random;

public class Main {
    static Random r = new Random();

    public static void main(String[] args) {
        for (int i = 0; i < 100; i++) {
            int n = getRandomNumber(5);
            System.out.println(n);
        }
    }

    public static int getRandomNumber(int len) {
        int[] arr = {1, 2, 3, 4, 5, 6, 7, 8, 9};

        // 获取数组的长度
        int last = arr.length - 1;

        int n = 0;

        for (int i = 0; i < len; i++) {
            // 随机数组的下标
            int index = r.nextInt(last + 1);

            // 将最后一个数据与随机的一个数据交换
            int temp = arr[last];
            arr[last] = arr[index];
            arr[index] = temp;

            n = n * 10 + arr[last];

            last--;
        }

        return n;
    }
}
```



**方法二、**

```java
import java.util.Random;

public class Main {
    static Random r = new Random();

    public static void main(String[] args) {
        long n = getRandomNumber(5);
        System.out.println(n);
    }

    // 生成指定位数的随机数
    public static long getRandomNumber(int len) {
        int[] arr = new int[10];

        // 填充数据
        for (int i = 0; i < arr.length; i++) {
            arr[i] = i;
        }

        // 打乱数组顺序
        shuffle(arr);

        // 开头不能为0
        if (arr[0] == 0) arr[0] = r.nextInt(1, 10);

        long result = 0;

        // 核心算法
        for (int i = 0; i < len; i++) {
            result = result * 10 + arr[i];
        }

        return result;
    }

    // 打乱数组顺序
    public static int[] shuffle(int arr[]) {
        int x = 0, y = 0;

        int temp = 0;

        for (int i = 0; i < arr.length * 5; i++) {
            x = r.nextInt(arr.length);
            y = r.nextInt(arr.length);

            temp = arr[x];
            arr[x] = arr[y];
            arr[y] = temp;
        }

        return arr;
    }
}
```



## 随机点名器

```java
import java.util.Random;

public class Main {
    public static void main(String[] args) throws Exception {
        String[] list = {"同学A", "同学B", "同学C", "同学D", "同学E", "同学F", "同学G"};

        int time = 100;

        for (int i = 0; i < 30; i++) {
            String s = machine(list);

            Thread.sleep(time);

            // 缓存效果核心逻辑
            switch (i) {
                case 15 -> time += 150;
                case 20 -> time += 200;
                case 25 -> time += 300;
                case 29 -> System.out.format("抽到了：%s", s);
                default -> System.out.println(s);
            }
        }
    }

    // 随机点名器
    public static String machine(String[] list) {
        Random r = new Random();
        return list[r.nextInt(0, list.length)];
    }
}
```



# 面向对象

## 商品数据录入

定义数组存储 3 个商品的对象。

商品的属性：名称、价格。

创建三个商品对象，数据通过键盘录入而来，并把数据存入到数组当中。

**代码示例**

```java
// Goods.java
public class Goods {
    private String name;
    private int price;

    public Goods() {
    }

    public Goods(String name, int price) {
        this.name = name;
        this.price = price;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public double getPrice() {
        return price;
    }

    public void setPrice(int price) {
        this.price = price;
    }
}
```

```java
// Main.java
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        Scanner sc = new Scanner(System.in);

        Goods[] arr = new Goods[3];

        // 数据录入
        for (byte i = 0; i < arr.length; i++) {
            Goods g = new Goods();

            System.out.println("请输入商品名称：");
            String name = sc.next();
            g.setName(name);

            System.out.println("请输入商品价格：");
            int price = sc.nextInt();
            g.setPrice(price);

            arr[i] = g;
        }

        // 遍历数据
        for (byte i = 0; i < arr.length; i++) {
            Goods goods = arr[i];
            System.out.println(goods.getName() + ", " + goods.getPrice());
        }
    }
}
```



## 购买飞机票

机票价格按照淡季旺季、头等舱和经济舱收费、输入机票原价、月份和头等舱或经济舱。

按照如下规则计算机票价格：旺季（5-10月）头等舱9折，经济舱8.5折，淡季（11月到来年4月）头等舱7折，经济舱6.5折。

```java
import java.util.Scanner;

public class Main {
    public static void main(String[] args) {
        double price = 0;
        byte month = 0;
        String type = "";

        Scanner sc = new Scanner(System.in);
        System.out.print("请输入你的机票价格：");
        price = (short) sc.nextInt();

        System.out.print("请输入你的机票月份：");
        month = (byte) sc.nextInt();

        System.out.print("请输入你的机票类型：");
        type = sc.next();

        // 求出优惠后的价格
        double preferential = Calculate(price, month, type);

        System.out.format("你的机票价格为：%s\n购买的月份为：%d\n机票类型为：%s\n优惠后的价格为：%f", price, month, type, preferential);
        /*
            你的机票价格为：100.0
            购买的月份为：5
            机票类型为：头等舱
            优惠后的价格为：90.000000
        */
    }

    // 筛选淡季 / 旺季
    public static double Calculate(double price, byte month, String type) {
        if (month >= 5 & month <= 10) {
            price = getTicket(price, type, true);
        }

        if ((month == 11 | month == 12) | month <= 4) {
            price = getTicket(price, type, false);
        }

        return price;
    }

    // 计算价格
    public static double getTicket(double price, String type, boolean isSeason) {
        if (isSeason) {
            if (type.equals("头等舱")) {
                price *= 0.9;
            }

            if (type.equals("经济舱")) {
                price *= 0.85;
            }
        } else {
            if (type.equals("头等舱")) {
                price *= 0.7;
            }

            if (type.equals("经济舱")) {
                price *= 0.65;
            }
        }

        return price;
    }
}
```



## 双人对战小游戏

​	格斗游戏，每个游戏角色的姓名，血量，都不相同，在选定人物的时候（new对象的时候），这些信息就应该被确定下来。 

**举例**

```
第1回合
角色：Python 伤害：13 当前血量：87
角色：Java 伤害：7 当前血量：93

第2回合
角色：Python 伤害：19 当前血量：68
角色：Java 伤害：3 当前血量：90

第3回合
角色：Python 伤害：19 当前血量：49
角色：Java 伤害：7 当前血量：83

第4回合
角色：Python 伤害：19 当前血量：30
角色：Java 伤害：15 当前血量：68

第5回合
角色：Python 伤害：2 当前血量：28
角色：Java 伤害：16 当前血量：52

第6回合
角色：Python 伤害：15 当前血量：13
角色：Java 伤害：11 当前血量：41

第7回合
角色：Python 伤害：20 当前血量：0
Java KO了 Python
```

**代码示例**

```java
// Role.java
import java.util.Random;

public class Role {
    private String name;
    private byte blood;

    public Role(String name, byte blood) {
        this.name = name;
        this.blood = blood;
    }

    public String getName() {
        return name;
    }

    public void setName(String name) {
        this.name = name;
    }

    public byte getBlood() {
        return blood;
    }

    public void setBlood(byte blood) {
        this.blood = blood;
    }

    // 攻击方法
    public void attack(Role role) {
        // 随机伤害
        Random r = new Random();
        byte hurt = (byte) (r.nextInt(20) + 1);
        byte boold = (byte) (role.getBlood() - hurt);

        // 如果血量小于0就是0
        boold = boold < 0 ? 0 :boold;
        role.setBlood(boold);

        // 对战记录
        System.out.format("角色：%s 伤害：%d 当前血量：%d\n", role.getName(), hurt, role.getBlood());
    }
}
```

```java
// Main.java
public class Main {
    public static void main(String[] args) {
        Role java = new Role("Java", (byte) 100);
        Role python = new Role("Python", (byte) 100);

        // 回合数
        byte round = 1;

        while (true) {
            System.out.println("第" + round + "回合");

            java.attack(python);
            if (python.getBlood() == 0) {
                System.out.format("%s KO了 %s", java.getName(), python.getName());
                break;
            }

            python.attack(java);
            if (java.getBlood() == 0) {
                System.out.format("%s KO了 %s", python.getName(), java.getName());
                break;
            }

            round += 1;
            System.out.println();
        }
    }
}
```


